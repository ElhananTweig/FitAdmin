# מדריך סנכרון שדות ACF בין סביבות

## הבעיה שנפתרה
לפני עכשיו, כשהוספת שדה ACF חדש במקומי, הוא לא היה מופיע באתר בהוסטינגר כי:
- שדות ACF נשמרו רק במסד הנתונים
- מסדי הנתונים לא מסונכרנים בין הסביבות
- השדה החדש קיים רק במסד הנתונים המקומי

## הפתרון: ACF JSON Sync
הפעלנו תכונת ACF JSON Sync שמאפשרת לשמור את הגדרות השדות בקבצי JSON שמסונכרנים דרך Git.

## איך זה עובד עכשיו

### כשאתה מוסיף/עורך שדה במקומי:
1. הקובץ JSON נשמר אוטומטית בתיקיית `wp-content/themes/twentytwentyfive/acf-json/`
2. הקובץ עולה לגיט כחלק מהקוד
3. השרת מקבל את הקובץ דרך Git Pull
4. ACF קורא את הקובץ ומפעיל את השדה גם בשרת

### כשאתה מוסיף שדה חדש:

#### שלב 1: הוסף השדה במקומי
1. לך ל-LocalWP Dashboard: `http://crm-tzuna.local/wp-admin/`
2. לך ל-**Custom Fields > Field Groups**
3. בחר את הקבוצה הרלוונטית (למשל "Client Details" למתאמנות)
4. לחץ על **Edit** ליד הקבוצה
5. הוסף את השדה החדש (למשל "Instagram Handle")
6. **לחץ על "Update"** - **זה חשוב מאוד!**

#### שלב 2: וודא שהקובץ JSON נוצר
בדוק שנוצר קובץ JSON חדש או עודכן קובץ קיים:
- הקובץ יהיה ב: `wp-content/themes/twentytwentyfive/acf-json/`
- שם הקובץ יהיה משהו כמו: `group_xxxxxxxxx.json`

#### שלב 3: העלאה לגיט
```bash
cd C:\Users\michal\Local Sites\crm-tzuna\app\public
git add .
git commit -m "הוספת שדה [שם השדה] ל[שם הקבוצה]"
git push origin main
```

#### שלב 4: משיכה בהוסטינגר
1. לך ל-Hostinger hPanel
2. בחר את הדומיין `miriamkryshevski.com`
3. לך ל-**Files > File Manager**
4. נווט ל-`public_html/`
5. לחץ על הכפתור "Pull Changes" (או דומה לו)
6. וודא שהקבצים עודכנו

#### שלב 5: סנכרון בהוסטינגר
1. לך ל-Dashboard בהוסטינגר: `https://miriamkryshevski.com/wp-admin/`
2. לך ל-**Custom Fields > Field Groups**
3. תראה הודעה כחולה למעלה: **"Sync available"** או דומה
4. לחץ על **"Sync"** ליד הקבוצה שעודכנה
5. השדה יופיע עכשיו גם בפרודקשן!

## טיפים חשובים

### ✅ מה כן לעשות:
- **תמיד לשמור שדות ACF לפני push לגיט**
- עדכן שדה - לחץ "Update" - רק אז תעשה git push
- וודא שיש קובץ JSON חדש לפני העלאה לגיט
- תמיד עשה "Sync" בפרודקשן אחרי Pull Changes

### ❌ מה לא לעשות:
- **אל תערוך שדות ACF ישירות בפרודקשן** - עשה הכל במקומי
- אל תמחק קבצי JSON ידנית
- אל תעשה git push לפני שמירת השדות במקומי

## פתרון בעיות

### בעיה: השדה לא מופיע בפרודקשן
**פתרון:**
1. וודא שהקובץ JSON נוצר במקומי
2. וודא שעשית git push
3. וודא שעשית Pull Changes בהוסטינגר
4. חפש "Sync available" בדף Field Groups בפרודקשן
5. לחץ על "Sync"

### בעיה: אין כפתור "Sync"
**פתרון:**
1. רענן את הדף
2. וודא שהקובץ JSON עודכן בפרודקשן
3. נסה לערוך ולשמור את הקבוצה שוב במקומי

### בעיה: שגיאות ACF
**פתרון:**
1. וודא ש-ACF Plugin פעיל בשתי הסביבות
2. בדוק שגרסאות ACF זהות
3. בדוק logs בהוסטינגר

## מסלול עבודה נכון

```
1. עבוד במקומי → 
2. הוסף/ערוך שדה ACF → 
3. לחץ "Update" → 
4. בדוק שנוצר קובץ JSON → 
5. git add/commit/push → 
6. Pull Changes בהוסטינגר → 
7. Sync בפרודקשן → 
8. בדוק שהשדה עובד ✅
```

## יתרונות של השיטה החדשה

✅ **שדות מסונכרנים אוטומטית**
✅ **גיבוי של הגדרות השדות בגיט**
✅ **ניתן לחזור לגרסאות קודמות**
✅ **עבודה בטוחה - תמיד במקומי קודם**
✅ **בקרת גרסאות מלאה**

---

**הערה:** שמור קובץ זה לעיון עתידי. אחרי שתתרגל לתהליך, זה יהיה אוטומטי! 